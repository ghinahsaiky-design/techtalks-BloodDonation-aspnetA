@model BloodDonation.Models.Users
@{
    Layout = null;
    ViewData["Title"] = "Admin Settings";
}

<!DOCTYPE html>
<html class="light" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>BloodConnect - Admin System Settings</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<style>
        .material-symbols-outlined {
            font-variation-settings:
                'FILL' 0,
                'wght' 400,
                'GRAD' 0,
                'opsz' 24
        }
    </style>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#d70427",
                        "background-light": "#f8f5f6",
                        "background-dark": "#230f12",
                        "blue-700": "#1E40AF",
                        "gray-100": "#F3F4F6",
                        "gray-800": "#1F2937",
                        "gray-500": "#6B7280",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-gray-800 dark:text-gray-100 h-screen overflow-hidden">
<partial name="_NotificationAlert" />
<div class="relative flex h-full w-full flex-row group/design-root">
<aside class="flex h-full w-64 flex-col bg-white dark:bg-background-dark dark:border-r dark:border-white/10 shadow-sm z-20 hidden lg:flex shrink-0">
<div class="flex h-full flex-col justify-between p-4">
<div class="flex flex-col gap-4">
<div class="flex items-center gap-3 px-3 py-2">
<img src="~/images/BloodDonationLogo.png" alt="BloodConnect logo" class="size-10 rounded-full object-cover"/>
<div class="flex flex-col">
<h1 class="text-gray-800 dark:text-white text-base font-bold leading-normal">BloodConnect</h1>
<p class="text-gray-500 dark:text-gray-400 text-sm font-normal leading-normal">Admin Panel</p>
</div>
</div>
<nav class="flex flex-col gap-2 mt-4">
<a class="flex items-center gap-3 px-3 py-2 text-gray-800 dark:text-gray-300 rounded-lg hover:bg-background-light dark:hover:bg-white/5 transition-colors" href="@Url.Action("Index", "Admin")">
<span class="material-symbols-outlined text-blue-700 dark:text-primary/80">dashboard</span>
<p class="text-sm font-medium leading-normal">Dashboard</p>
</a>
<a class="flex items-center gap-3 px-3 py-2 text-gray-800 dark:text-gray-300 rounded-lg hover:bg-background-light dark:hover:bg-white/5 transition-colors" href="@Url.Action("DonorManagement", "Admin")">
<span class="material-symbols-outlined text-blue-700 dark:text-primary/80">group</span>
<p class="text-sm font-medium leading-normal">Donors</p>
</a>
<a class="flex items-center gap-3 px-3 py-2 text-gray-800 dark:text-gray-300 rounded-lg hover:bg-background-light dark:hover:bg-white/5 transition-colors" href="@Url.Action("RequestManagement", "Admin")">
<span class="material-symbols-outlined text-blue-700 dark:text-primary/80">inbox</span>
<p class="text-sm font-medium leading-normal">Requests</p>
</a>
<a class="flex items-center gap-3 px-3 py-2 rounded-lg bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary ring-1 ring-primary/20" href="@Url.Action("Settings", "Admin")">
<span class="material-symbols-outlined !fill-1">settings</span>
<p class="text-sm font-bold leading-normal">Settings</p>
</a>
</nav>
</div>
<div class="px-3 mt-auto">
<form asp-action="Logout" asp-controller="Auth" method="post" class="inline w-full">
@Html.AntiForgeryToken()
<button type="submit" class="flex items-center gap-3 w-full px-3 py-2 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors">
<span class="material-symbols-outlined">logout</span>
<span class="text-sm font-medium">Sign Out</span>
</button>
</form>
</div>
</div>
</aside>
<div class="flex-1 flex flex-col min-w-0 h-full overflow-hidden relative">
<header class="flex-none flex items-center justify-between whitespace-nowrap border-b border-solid border-gray-100 dark:border-white/10 bg-white dark:bg-background-dark px-6 md:px-10 py-3 z-10 shadow-sm">
<div class="flex items-center gap-4 text-gray-800 dark:text-white">
<button class="lg:hidden p-1 rounded-md hover:bg-gray-100 dark:hover:bg-white/10 text-gray-500">
<span class="material-symbols-outlined">menu</span>
</button>
<h2 class="text-lg font-bold leading-tight tracking-[-0.015em]">System Settings</h2>
</div>
<div class="flex flex-1 justify-end gap-4 items-center">
<div class="relative">
<button id="notificationBtn" onclick="toggleNotificationDropdown()" class="flex items-center justify-center rounded-full size-10 hover:bg-background-light text-blue-700 dark:hover:bg-white/10 dark:text-primary/80 transition-colors relative">
<span class="material-symbols-outlined">notifications</span>
<span id="notificationBadge" class="absolute top-1 right-1 min-w-[18px] h-[18px] bg-primary text-white text-xs font-bold rounded-full flex items-center justify-center px-1 hidden">0</span>
</button>
<div id="notificationDropdown" class="hidden absolute right-0 mt-2 w-80 bg-white dark:bg-background-dark rounded-lg shadow-xl border border-gray-200 dark:border-white/10 z-50 max-h-96 overflow-y-auto">
<div class="p-4 border-b border-gray-200 dark:border-white/10">
<h3 class="text-sm font-bold text-gray-900 dark:text-white">Recent Confirmations</h3>
<p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Donor confirmations from the last 24 hours</p>
</div>
<div id="notificationList" class="p-2">
<div class="text-center py-4 text-gray-500 dark:text-gray-400">
<span class="material-symbols-outlined animate-spin text-2xl mb-2">sync</span>
<p class="text-sm">Loading...</p>
</div>
</div>
<div class="p-3 border-t border-gray-200 dark:border-white/10 text-center">
<a href="@Url.Action("RequestManagement", "Admin")" class="text-xs text-primary hover:underline">View All Requests</a>
</div>
</div>
</div>
<img src="~/images/BloodDonationLogo.png" alt="Admin user avatar" class="size-10 rounded-full object-cover border-2 border-gray-100 dark:border-white/10"/>
</div>
</header>
<main class="flex-1 overflow-y-auto bg-background-light dark:bg-background-dark p-6 md:p-8 lg:p-10">
<div class="max-w-4xl mx-auto space-y-8 pb-10">
<div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
<div>
<h1 class="text-3xl font-black tracking-tight text-gray-900 dark:text-white">Settings</h1>
<p class="text-gray-500 dark:text-gray-400 mt-1">Manage global system preferences and permissions.</p>
</div>
<div class="flex gap-3">
<button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-white/5 border border-gray-300 dark:border-white/10 rounded-lg hover:bg-gray-50 dark:hover:bg-white/10 transition-colors">Discard</button>
<button class="px-4 py-2 text-sm font-bold text-white bg-primary rounded-lg shadow-sm hover:bg-primary/90 transition-colors">Save Changes</button>
</div>
</div>
@if (Model != null)
{
    <section class="bg-white dark:bg-background-dark rounded-xl border border-gray-200 dark:border-white/10 shadow-sm overflow-hidden">
        <div class="p-6 border-b border-gray-100 dark:border-white/10">
            <div class="flex items-center gap-3 mb-1">
                <span class="material-symbols-outlined text-blue-700 dark:text-primary">account_circle</span>
                <h2 class="text-lg font-bold text-gray-900 dark:text-white">Admin Profile</h2>
            </div>
            <p class="text-sm text-gray-500 dark:text-gray-400 pl-9">Your account information and role.</p>
        </div>
        <div class="p-6 md:p-8 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
            <div class="col-span-2 md:col-span-1">
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Full Name</label>
                <input class="w-full rounded-lg border-gray-300 dark:border-white/20 bg-gray-50 dark:bg-white/5 text-gray-900 dark:text-white focus:border-primary focus:ring-primary text-sm p-2.5" type="text" value="@(Model.FirstName + " " + Model.LastName)" readonly/>
            </div>
            <div class="col-span-2 md:col-span-1">
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
                <input class="w-full rounded-lg border-gray-300 dark:border-white/20 bg-gray-50 dark:bg-white/5 text-gray-900 dark:text-white focus:border-primary focus:ring-primary text-sm p-2.5" type="email" value="@Model.Email" readonly/>
            </div>
            <div class="col-span-2 md:col-span-1">
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Role</label>
                <input class="w-full rounded-lg border-gray-300 dark:border-white/20 bg-gray-50 dark:bg-white/5 text-gray-900 dark:text-white focus:border-primary focus:ring-primary text-sm p-2.5" type="text" value="@Model.Role" readonly/>
            </div>
            <div class="col-span-2 md:col-span-1">
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Member Since</label>
                <input class="w-full rounded-lg border-gray-300 dark:border-white/20 bg-gray-50 dark:bg-white/5 text-gray-900 dark:text-white focus:border-primary focus:ring-primary text-sm p-2.5" type="text" value="@Model.CreatedAt.ToString("MMM dd, yyyy")" readonly/>
            </div>
        </div>
    </section>
}
<section class="bg-white dark:bg-background-dark rounded-xl border border-gray-200 dark:border-white/10 shadow-sm overflow-hidden">
<div class="p-6 border-b border-gray-100 dark:border-white/10">
<div class="flex items-center gap-3 mb-1">
<span class="material-symbols-outlined text-blue-700 dark:text-primary">lock</span>
<h2 class="text-lg font-bold text-gray-900 dark:text-white">Change Password</h2>
</div>
<p class="text-sm text-gray-500 dark:text-gray-400 pl-9">Update your account password for better security.</p>
</div>
<form asp-action="ChangePassword" asp-controller="Admin" method="post" class="p-6 md:p-8">
@Html.AntiForgeryToken()
<div class="space-y-4 max-w-md">
<div>
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Current Password</label>
<input name="CurrentPassword" type="password" required class="w-full rounded-lg border-gray-300 dark:border-white/20 dark:bg-white/5 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5" placeholder="Enter current password"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">New Password</label>
<input name="NewPassword" type="password" required minlength="6" class="w-full rounded-lg border-gray-300 dark:border-white/20 dark:bg-white/5 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5" placeholder="Enter new password (min 6 characters)"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Confirm New Password</label>
<input name="ConfirmPassword" type="password" required minlength="6" class="w-full rounded-lg border-gray-300 dark:border-white/20 dark:bg-white/5 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5" placeholder="Confirm new password"/>
</div>
<div class="flex gap-3 pt-2">
<button type="submit" class="px-4 py-2 text-sm font-bold text-white bg-primary rounded-lg shadow-sm hover:bg-primary/90 transition-colors">Change Password</button>
</div>
</div>
</form>
</section>
<section class="bg-white dark:bg-background-dark rounded-xl border border-gray-200 dark:border-white/10 shadow-sm overflow-hidden">
<div class="p-6 border-b border-gray-100 dark:border-white/10">
<div class="flex items-center gap-3 mb-1">
<span class="material-symbols-outlined text-blue-700 dark:text-primary">tune</span>
<h2 class="text-lg font-bold text-gray-900 dark:text-white">General Settings</h2>
</div>
<p class="text-sm text-gray-500 dark:text-gray-400 pl-9">Basic configuration for the BloodConnect application.</p>
</div>
<div class="p-6 md:p-8 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
<div class="col-span-2 md:col-span-1">
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Application Name</label>
<input class="w-full rounded-lg border-gray-300 dark:border-white/20 bg-gray-50 dark:bg-white/5 text-gray-900 dark:text-white focus:border-primary focus:ring-primary text-sm p-2.5" type="text" value="BloodConnect Admin"/>
</div>
<div class="col-span-2 md:col-span-1">
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Contact Email</label>
<input class="w-full rounded-lg border-gray-300 dark:border-white/20 bg-gray-50 dark:bg-white/5 text-gray-900 dark:text-white focus:border-primary focus:ring-primary text-sm p-2.5" type="email" value="@(Model?.Email ?? "")" readonly/>
</div>
<div class="col-span-2 md:col-span-1">
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Default Timezone</label>
<select class="w-full rounded-lg border-gray-300 dark:border-white/20 bg-gray-50 dark:bg-white/5 text-gray-900 dark:text-white focus:border-primary focus:ring-primary text-sm p-2.5">
<option>(GMT-05:00) Eastern Time (US &amp; Canada)</option>
<option>(GMT+00:00) London</option>
<option>(GMT+09:00) Tokyo</option>
</select>
</div>
<div class="col-span-2 md:col-span-1">
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Maintenance Mode</label>
<div class="flex items-center gap-3 p-2.5 border border-gray-200 dark:border-white/10 rounded-lg bg-gray-50 dark:bg-white/5">
<label class="relative inline-flex items-center cursor-pointer">
<input class="sr-only peer" type="checkbox" value=""/>
<div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
</label>
<span class="text-sm text-gray-600 dark:text-gray-400">Put site offline</span>
</div>
</div>
</div>
</section>
<section class="bg-white dark:bg-background-dark rounded-xl border border-gray-200 dark:border-white/10 shadow-sm overflow-hidden">
<div class="p-6 border-b border-gray-100 dark:border-white/10">
<div class="flex items-center gap-3 mb-1">
<span class="material-symbols-outlined text-blue-700 dark:text-primary">notifications_active</span>
<h2 class="text-lg font-bold text-gray-900 dark:text-white">Notification Settings</h2>
</div>
<p class="text-sm text-gray-500 dark:text-gray-400 pl-9">Control how the system sends alerts to admins and donors.</p>
</div>
<div class="p-6 md:p-8 space-y-6">
<div class="flex items-center justify-between">
<div>
<p class="text-sm font-bold text-gray-900 dark:text-white">Email Notifications</p>
<p class="text-xs text-gray-500 dark:text-gray-400">Send emails for new donor registrations and requests.</p>
</div>
<label class="relative inline-flex items-center cursor-pointer">
<input checked="" class="sr-only peer" type="checkbox" value=""/>
<div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
</label>
</div>
<hr class="border-gray-100 dark:border-white/5"/>
<div class="flex items-center justify-between">
<div>
<p class="text-sm font-bold text-gray-900 dark:text-white">SMS Alerts</p>
<p class="text-xs text-gray-500 dark:text-gray-400">Send SMS for urgent blood requests (Standard rates apply).</p>
</div>
<label class="relative inline-flex items-center cursor-pointer">
<input checked="" class="sr-only peer" type="checkbox" value=""/>
<div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
</label>
</div>
<hr class="border-gray-100 dark:border-white/5"/>
<div class="flex items-center justify-between">
<div>
<p class="text-sm font-bold text-gray-900 dark:text-white">System Reports</p>
<p class="text-xs text-gray-500 dark:text-gray-400">Weekly PDF summary of platform activity.</p>
</div>
<label class="relative inline-flex items-center cursor-pointer">
<input class="sr-only peer" type="checkbox" value=""/>
<div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
</label>
</div>
</div>
</section>
<section class="bg-white dark:bg-background-dark rounded-xl border border-gray-200 dark:border-white/10 shadow-sm overflow-hidden">
<div class="p-6 border-b border-gray-100 dark:border-white/10 flex flex-col md:flex-row md:items-center justify-between gap-4">
<div>
<div class="flex items-center gap-3 mb-1">
<span class="material-symbols-outlined text-blue-700 dark:text-primary">shield_person</span>
<h2 class="text-lg font-bold text-gray-900 dark:text-white">Role Permissions</h2>
</div>
<p class="text-sm text-gray-500 dark:text-gray-400 pl-9">Manage what different admin roles can access.</p>
</div>
<button class="text-sm text-blue-700 dark:text-primary font-bold hover:underline">Manage Roles</button>
</div>
<div class="overflow-x-auto">
<table class="w-full text-sm text-left">
<thead class="bg-gray-50 dark:bg-white/5 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold">
<tr>
<th class="px-6 py-4">Permission Context</th>
<th class="px-6 py-4 text-center">Super Admin</th>
<th class="px-6 py-4 text-center">Manager</th>
<th class="px-6 py-4 text-center">Viewer</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-100 dark:divide-white/5">
<tr class="hover:bg-gray-50 dark:hover:bg-white/5">
<td class="px-6 py-4 font-medium text-gray-900 dark:text-white">Manage Donors</td>
<td class="px-6 py-4 text-center text-primary"><span class="material-symbols-outlined text-sm font-bold">check</span></td>
<td class="px-6 py-4 text-center text-primary"><span class="material-symbols-outlined text-sm font-bold">check</span></td>
<td class="px-6 py-4 text-center text-gray-300 dark:text-gray-600"><span class="material-symbols-outlined text-sm">close</span></td>
</tr>
<tr class="hover:bg-gray-50 dark:hover:bg-white/5">
<td class="px-6 py-4 font-medium text-gray-900 dark:text-white">Approve Requests</td>
<td class="px-6 py-4 text-center text-primary"><span class="material-symbols-outlined text-sm font-bold">check</span></td>
<td class="px-6 py-4 text-center text-primary"><span class="material-symbols-outlined text-sm font-bold">check</span></td>
<td class="px-6 py-4 text-center text-gray-300 dark:text-gray-600"><span class="material-symbols-outlined text-sm">close</span></td>
</tr>
<tr class="hover:bg-gray-50 dark:hover:bg-white/5">
<td class="px-6 py-4 font-medium text-gray-900 dark:text-white">Edit System Settings</td>
<td class="px-6 py-4 text-center text-primary"><span class="material-symbols-outlined text-sm font-bold">check</span></td>
<td class="px-6 py-4 text-center text-gray-300 dark:text-gray-600"><span class="material-symbols-outlined text-sm">close</span></td>
<td class="px-6 py-4 text-center text-gray-300 dark:text-gray-600"><span class="material-symbols-outlined text-sm">close</span></td>
</tr>
<tr class="hover:bg-gray-50 dark:hover:bg-white/5">
<td class="px-6 py-4 font-medium text-gray-900 dark:text-white">Export User Data</td>
<td class="px-6 py-4 text-center text-primary"><span class="material-symbols-outlined text-sm font-bold">check</span></td>
<td class="px-6 py-4 text-center text-gray-300 dark:text-gray-600"><span class="material-symbols-outlined text-sm">close</span></td>
<td class="px-6 py-4 text-center text-gray-300 dark:text-gray-600"><span class="material-symbols-outlined text-sm">close</span></td>
</tr>
</tbody>
</table>
</div>
</section>
</div>
</main>
</div>
</div>

<script>
    let notificationDropdownOpen = false;

    function toggleNotificationDropdown() {
        const dropdown = document.getElementById('notificationDropdown');
        if (dropdown) {
            notificationDropdownOpen = !notificationDropdownOpen;
            if (notificationDropdownOpen) {
                dropdown.classList.remove('hidden');
                loadNotifications();
            } else {
                dropdown.classList.add('hidden');
            }
        }
    }

    document.addEventListener('click', function(event) {
        const btn = document.getElementById('notificationBtn');
        const dropdown = document.getElementById('notificationDropdown');
        if (btn && dropdown && !btn.contains(event.target) && !dropdown.contains(event.target)) {
            dropdown.classList.add('hidden');
            notificationDropdownOpen = false;
        }
    });

    async function loadNotifications() {
        try {
            const response = await fetch('/Admin/GetNotificationCount');
            const data = await response.json();
            
            if (data.success) {
                updateNotificationBadge(data.count);
                updateNotificationList(data.confirmations || []);
            }
        } catch (error) {
            console.error('Error loading notifications:', error);
        }
    }

    function updateNotificationBadge(count) {
        const badge = document.getElementById('notificationBadge');
        if (badge) {
            if (count > 0) {
                badge.textContent = count > 99 ? '99+' : count.toString();
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
        }
    }

    function updateNotificationList(confirmations) {
        const list = document.getElementById('notificationList');
        if (!list) return;

        if (confirmations.length === 0) {
            list.innerHTML = `
                <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                    <span class="material-symbols-outlined text-4xl mb-2">notifications_off</span>
                    <p class="text-sm">No new confirmations</p>
                </div>
            `;
            return;
        }

        list.innerHTML = confirmations.map(conf => `
            <div class="p-3 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg cursor-pointer transition-colors" onclick="window.location.href='@Url.Action("RequestManagement", "Admin")?requestId=${conf.requestId}'">
                <div class="flex items-start gap-3">
                    <div class="flex-shrink-0 w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center">
                        <span class="material-symbols-outlined text-green-600 dark:text-green-400 text-sm">check_circle</span>
                    </div>
                    <div class="flex-1 min-w-0">
                        <p class="text-sm font-semibold text-gray-900 dark:text-white truncate">${conf.donorName} confirmed</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">Request #${conf.requestId} - ${conf.patientName} (${conf.bloodType})</p>
                        <p class="text-xs text-gray-400 dark:text-gray-500 mt-1">${conf.timeAgo}</p>
                    </div>
                </div>
            </div>
        `).join('');
    }

    document.addEventListener('DOMContentLoaded', function() {
        loadNotifications();
        setInterval(loadNotifications, 30000);
    });
</script>

</body></html>